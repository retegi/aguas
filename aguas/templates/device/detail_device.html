{% extends 'base.html' %}
{% load static %}

{% block header %}
{% endblock %}

{% block slider %}
{% endblock %}

{% block content %}
<div class="alert alert-white m-3" role="alert">
  <div class="row">
    <div class="col-lg-4 text-center">
      
        <img style="width:75%;margin:5%" src="{{ device.product_model_device.image_device.image_device.url }}">
    </div>
    <div class="col-lg-8">
        <h3 class="text-secondary">Detalle Dispositivo</h3>
        <h1>{{ device.product_model_device.brand_device }} - {{ device.product_model_device.model_device }}</h1><h3 class="secondary"> ( {{ device.installation_device.type_installation.name }} de {{ device.installation_device.station_installation.type_station.acronym }} {{ device.installation_device.station_installation.name_station }} )</h3>
            <table class="table table-sm table-hover">
                <thead>
                  <tr>
                    <th scope="col">Concepto</th>
                    <th scope="col">Detalle</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row">Código</th>
                    <td>{{ device.id }}</td>
                  </tr>
                  <tr>
                    <th scope="row">Tipo dispositivo</th>
                    <td>{{ device.product_model_device.type_device }}</td>
                  </tr>
                  <tr>
                    <th scope="row">Marca</th>
                    <td>{{ device.product_model_device.brand_device }}</td>
                  </tr>
                  <tr>
                    <th scope="row">Modelo</th>
                    <td>{{ device.product_model_device.model_device }}</td>
                  </tr>
                  <tr>
                      <th scope="row">Nº Serie</th>
                      <td>{{ device.serial_device }}</td>
                  </tr>
                  <tr id="ip_tag">
                    <th scope="row">IP</th>
                    <td id="ip">{{ device.ip_device }}</td>
                  </tr>
                  <tr id="pin_tag">
                    <th scope="row">PIN</th>
                    <td id="pin">{{ device.pin_device }}</td>
                  </tr>
                  <tr id="puk_tag">
                    <th scope="row">PUK</th>
                    <td id="puk">{{ device.puk_device }}</td>
                  </tr>
                  <tr id="Tel.Largo_tag">
                    <th scope="row">Tel.Largo</th>
                    <td id="Tel.Largo">{{ device.tel_long_device }}</td>
                  </tr>
                  <tr id="Tel.Corto_tag">
                    <th scope="row">Tel.Corto</th>
                    <td id="Tel.Corto">{{ device.tel_short_device }}</td>
                  </tr>
                  <tr id="Parent.device_tag">
                    <th scope="row">Dispositivo Padre</th>
                    <td id="Parent.device">{{ device.parent_device }}</td>
                  </tr>
                  
                  <tr>
                    <th scope="row">Instalación</th>
                    <td><a href="{% url 'installations_app:detail_installation' device.installation_device.id %}">{{ device.installation_device.type_installation.name }}</a></td>
                  </tr>
                  <tr>
                    <th scope="row">Estación</th>
                    <td><a href="{% url 'stations_app:detail_station' device.installation_device.station_installation.id %}">{{ device.installation_device.station_installation.type_station.acronym }} {{ device.installation_device.station_installation.name_station }}</a></td>
                  </tr>
                  <tr>
                    <th scope="row">Área</th>
                    <td>{{ device.installation_device.station_installation.area_station.name }}</td>
                  </tr>
                  <tr>
                    <th scope="row">Localizar</th>
                    <td><a target="_blank" href="https://maps.google.com/?q={{ device.installation_device.station_installation.latitude_station }},{{ device.installation_device.station_installation.longitude_station }}"><svg class="bi bi-geo-alt" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" d="M8 16s6-5.686 6-10A6 6 0 002 6c0 4.314 6 10 6 10zm0-7a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                    </svg></a></td>
                  </tr>
                  <tr>
                    <th scope="row">Observaciones</th>
                    <td>{{ device.observations }}</td>
                  </tr>
                  <tr>
                    <th scope="row">Ver</th>
                    <td>

                      <a title="Ver consumibles" target="blank" href="{% url 'consumables_app:list_consumables_by_device' device.id %}">
                        <button class="btn btn-sm btn-primary">
                        <svg id="Layer_1" enable-background="new 0 0 512 512" height="1em" viewBox="0 0 512 512" width="1em" xmlns="http://www.w3.org/2000/svg"><g><path d="m354 512h-196c-25.364 0-46-20.636-46-46v-356c0-25.364 20.636-46 46-46h196c25.364 0 46 20.636 46 46v356c0 25.364-20.636 46-46 46zm-196-416c-7.72 0-14 6.28-14 14v356c0 7.72 6.28 14 14 14h196c7.72 0 14-6.28 14-14v-356c0-7.72-6.28-14-14-14z"/><path d="m320 96h-128c-8.837 0-16-7.164-16-16v-44c0-19.851 16.149-36 36-36h88c19.851 0 36 16.149 36 36v44c0 8.836-7.163 16-16 16zm-112-32h96v-28c0-2.206-1.794-4-4-4h-88c-2.206 0-4 1.794-4 4z"/><path d="m320 456h-128c-8.837 0-16-7.164-16-16s7.163-16 16-16h128c8.837 0 16 7.164 16 16s-7.163 16-16 16z"/><path d="m320 392h-128c-8.837 0-16-7.164-16-16s7.163-16 16-16h128c8.837 0 16 7.164 16 16s-7.163 16-16 16z"/><path d="m320 328h-128c-8.837 0-16-7.164-16-16s7.163-16 16-16h128c8.837 0 16 7.164 16 16s-7.163 16-16 16z"/></g>
                        </svg>
                        Consumibles
                      </button>
                      </a>
                    </td>
                  </tr>


                </tbody>
              </table>
    </div>
  </div>
</div>

<script>
  //DELETE IF EMPTY ip
  var myElement = document.getElementById("ip").innerText;
  if(myElement == "None"){
    var myobj = document.getElementById("ip_tag");
    myobj.remove();
  }

  //DELETE IF EMPTY pin
    var myElement = document.getElementById("pin").innerText;
  if(myElement == "None"){
    var myobj = document.getElementById("pin_tag");
    myobj.remove();
  }

  //DELETE IF EMPTY puk
    var myElement = document.getElementById("puk").innerText;
  if(myElement == "None"){
    var myobj = document.getElementById("puk_tag");
    myobj.remove();
  }

  //DELETE IF EMPTY Tel.Largo
  var myElement = document.getElementById("Tel.Largo").innerText;
  if(myElement == "None"){
    var myobj = document.getElementById("Tel.Largo_tag");
    myobj.remove();
  }

  //DELETE IF EMPTY Tel.Corto
  var myElement = document.getElementById("Tel.Corto").innerText;
  if(myElement == "None"){
    var myobj = document.getElementById("Tel.Corto_tag");
    myobj.remove();
  }

  //DELETE IF EMPTY parent.device
  var myElement = document.getElementById("Parent.device").innerText;
  if(myElement == "None"){
    var myobj = document.getElementById("Parent.device_tag");
    myobj.remove();
  }

</script>
{% endblock %}

